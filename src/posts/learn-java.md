---
slug: bushwick-artisan
title: Spring Boot学习之项目模型分析
createAt: 1561347732953
tag: [java, spring-boot]
---

前端的角色是面向用户，在开发时，更多的是以单个页面或者一个页面中的某部分为一个模块进行开发，同一个模块中，逻辑划分或者组件拆分不会很多；但在后端开发中，开发者所需要面对的情形则有些不同，需要面对的是各种增删改查的数据请求和对数据库的处理，在这个接收请求->处理数据->返回结果的过程中，需要考虑的则是入库数据的安全、操作数据的方式、返回数据的结果内容。

最近在学习Java Spring Boot的后端开发，借此机会，整理出在学习过程中的一些思考内部，记录和分享出来，如果对内容有任何问题和意见，请在下面留言。

项目所采用的框架是现在比较流行的SpringBoot+MyBatis+MySQL，项目的业务背景是开发一个电商秒杀服务的后台，下面的例子也会以这个为需求背景。作为一个初学者，此处不会对框架进行深层次的分析。

![spring-boot模型](./images/spring-boot模型.png)

一图胜千言，通过上面的图片，可以初步理解，后端代码中比较重要的模块有哪些，也可以看到一个请求的处理基本逻辑。

服务端在接收到一个请求的时候，会由服务器转发到对应的控制器(Controller)下的方法，进行数据处理。

而在每个Controller中，不会进行数据入库或者查询数据的操作，只对数据进行简单的处理，对应的操作数据库的任务，则由对应的模块服务(Service)进行处理，如用户管理(UserService)，商品管理(ItemService)等，项目中的Service是一个接口(Interface)类型的文件，具体实现在对应的服务实现(ServiceImpl)中进行。<!--TODO::: 为何这样设计????-->

因此，实际的代码中，看起来，Service只是进行了方法的定义，实际的实现逻辑在ServiceImpl，在ServiceImpl中，则是需要DOMapper，如果对数据库进行更新插入操作，DOMapper接收一个DO(DataObject)对象，查询操作也会返回一个DO，DO中的属性是和数据库中的字段是一一对应的。但是DO模型不会直接返回到Controller，而是转化成Model(领域模型)。

Model是面向业务逻辑需要设计的一种模型，为了便于业务中的逻辑处理，而最终Controller返回给用户的，是VO(ViewObject，视图对象)，为了便于前端展示数据和逻辑处理需求，并且剪除不应展示给前端的数据，添加不同领域，但需要展示的数据，比如UserModel中，密码信息，不需要返回给前端，ItemModel中，商品库存在不同的DO中，但需要在VO中返回给前端。

在经过上叙的流程后，Controller最终拿到VO，并返回给前端，完成一次请求。
