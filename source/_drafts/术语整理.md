---
tags: [11月的]
title: 术语整理
created: '2019-11-21T01:29:17.584Z'
modified: '2019-12-31T09:27:05.033Z'
---

# 术语整理

### 1. mobx-react observable class 类组件原理

1. 对 class 类型组件，observable 内部会在 组件第一次执行 render 方法的时候，新建一个 reaction 实例，有两个参数：第一个是 名称标记，第二个是一个 onInvalidate 方法；并声明一个 reactiveRender 方法，这个方法会替换本身的render 方法，在方法内，调用 reaction 的 track 方法，track 方法执行的时候，内部使用到的 store 的状态会被添加一个 observes 钩子，完成状态和组件间的关联；
2. 在store内部的状态发生改变的时候，通过添加的钩子，执行 onInvalidate 方法， onInvalidate 内部会调用 Component.prototype.forceUpdate.call(this)， 引起相关组件的强制刷新，从而更新渲染结果；

### 2. observable 函数式组件原理

1. 核心方式和 class 类组件类似，新建一个 reaction 实例， 不同的是 onInvalidate 内部会通过 react 的 useState 新建一个状态，和 update 方法，update 方法内执行修改状态的事件；

2. 在 store 内部状态改变时，通过钩子，执行 onInvalidate 方法，onInvalidate 内部执行 update 方法，引起函数组件的刷新； 
